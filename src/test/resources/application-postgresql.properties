tailormap-api.version=@project.version@
tailormap-api.apiVersion=@info.version@
tailormap-api.base-path=/api
tailormap-api.admin.base-path=/api/admin

tailormap-api.new-admin-username=tm-admin
tailormap-api.management.hashed-password=#{null}

tailormap-api.pageSize=10

# note trailing slash on url
tailormap-api.solr-url=http://localhost:8983/solr/

tailormap-api.prometheus-api-url=http://localhost:9090/api/v1
# get the total count over the last #NUMBER_OF_DAYS# days
tailormap-api.prometheus-api-appmetrics-totals=floor(increase(tailormap_app_request_total[#NUMBER_OF_DAYS#d]))
# get the last update within the last #NUMBER_OF_DAYS# days
tailormap-api.prometheus-api-appmetrics-updated=time()-max_over_time(timestamp(changes(tailormap_app_request_total[5m])>0)[#NUMBER_OF_DAYS#d:1m])
# get the total count of appLayer switched on events over the last #NUMBER_OF_DAYS# days, for applicationId #APP_ID#
tailormap-api.prometheus-api-appmetrics-layer-switched-on=floor(increase(tailormap_applayer_switched_on_total{appId="#APP_ID#"}[#NUMBER_OF_DAYS#d]))
tailormap-api.prometheus-api-appmetrics-layer-switched-on-updated=time()-max_over_time(timestamp(changes(tailormap_applayer_switched_on_total{appId="#APP_ID#"}[5m])>0)[#NUMBER_OF_DAYS#d:1m])

spring.datasource.url=jdbc:postgresql:tailormap
spring.datasource.username=tailormap
spring.datasource.password=tailormap
spring.jpa.open-in-view=false
spring.jpa.properties.hibernate.use_sql_comments=true

spring.data.rest.base-path=/api/admin
spring.data.rest.detection-strategy=default
spring.data.rest.return-body-on-create=true
spring.data.rest.return-body-on-update=true

spring.flyway.enabled=false

# NOTE these values need to match the static variables in PasswordResetControllerIntegrationTest and/or built-in GreenMail server values
spring.mail.password=tailormap
spring.mail.username=tailormap
tailormap-api.mail.from=tailormap@tailormap.com
spring.mail.port=3025
spring.mail.host=localhost
spring.mail.protocol=smtp

# password reset options
tailormap-api.password-reset.enabled=true
tailormap-api.password-reset.disabled-for=tm-admin,actuator
